<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel='stylesheet' href='../stylesheets/styles/jqx.base.css' type='text/css'/>
    <script type='text/javascript' src='../javascripts/jquery-1.11.1.min.js'></script>

    <!-- This code was auto-generated based on the selected settings -->
    <!-- It has a dependency on jQWidgets ver.3.7 or later -->

    <script type='text/javascript' src='../javascripts/jqwidgets/jqxcore.js'></script>
    <script type='text/javascript' src='../javascripts/jqwidgets/jqxdata.js'></script>
    <script type='text/javascript' src='../javascripts/jqwidgets/jqxdraw.js'></script>
    <script type='text/javascript' src='../javascripts/jqwidgets/jqxchart.core.js'></script>
    <script type='text/javascript' src='../javascripts/jqwidgets/jqxchart.api.js'></script>
</head>
<body>
<script type='text/javascript'>
    $(document).ready(function () {

        var DataSource =
            {
                datatype: "json",
                datafields: [
                    {name: "EndingBalance", type: "number"},
                    {name: "Date", type: "string"}
                ],
                url: 'bargraphtest.php'
            };

        /* data adapter settings */
        var dataAdapter = new $.jqx.dataAdapter(DataSource
            ,{ async: false,
            autoBind: true,
            loadError: function (xhr, status, error) {
            alert('Error loading "' + DataSource.url + '" : ' + error); } });

        /* chart settings */
        var chartSettings = {
            source: dataAdapter,
            title: "All",
            padding: {
                left: 5,
                top: 5,
                right: 5,
                bottom: 5
            },
            titlePadding: {
                left: 5,
                top: 5,
                right: 5,
                bottom: 5
            },
            colorScheme: "scheme05",
            enableCrosshairs: true,
            enableAxisTextAnimation: true,
            xAxis: {
                dataField: "Date",
                type: "basic",
                baseUnit: "month",
                valuesOnTicks: true,
                unitInterval: 1
            },
            valueAxis: {
                valuesOnTicks: true
            },
            seriesGroups: [
                {
                    type: "column",
                    click: myEventHandler,
                    series: [
                        {
                            dataField: "EndingBalance", displayText: "All"

                        }
                    ]
                }
            ]
        };

        /* create chart in the container element */
        $('#chartContainer').jqxChart(chartSettings);

        function myEventHandler(e) {
            console.log("Data Field: " + e.serie.dataField + " Value: " + e.elementValue);
            console.log(e.elementIndex);

        }

        var chartInstance = $('#chartContainer').jqxChart('getInstance');
        var rect = instance.getXAxisRect(0);
        var labels = chartInstance.getXAxisLabels(0);
        console.div(labels);
        for (var i = 0; i < labels.length; i++) {
            renderer.rect(rect.x + labels[i].offset, rect.y, 50, 50, {fill: 'blue', opacity: 0.5});
        }
    });
</script>
<div id='chartContainer' style='height: 800px; width: 1900px;'></div>
</body>
</html>